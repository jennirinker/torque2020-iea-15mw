# -*- coding: utf-8 -*-
"""
Created on Tue Jun 23 09:46:51 2020

@author: rink
"""
import numpy as np

#                 # mass          # downwind dist
# iner = np.array([[0.9548E+06,  0.0000E+00],  # tower
#                 [0.6309E+06, -0.3945E+01],  # towertop [yaw sys + nac mass]
#                 [0.5968E+01, -0.2967E+01],  # connector
#                 [0.1900E+06, -0.1107E+02],  # shaft [hub mass]
#                 [0.3000E+01, -0.1102E+02],  # hub1
#                 [0.3000E+01, -0.1126E+02],  # hub2
#                 [0.3000E+01, -0.1126E+02],  # hub3
#                 [0.6361E+05, -0.9983E+01],  # blade1
#                 [0.6361E+05, -0.1473E+02],  # blade2
#                 [0.6361E+05, -0.1467E+02]  # blade3
#                 ])

# yaw_sys = 1.000e+05  # remove this
# h2_mom = -np.product(iner, axis=1).sum() / 1e3  # kNm
# h2_mass = iner[1:].sum() - yaw_sys  # kg

# hubmass = 190000
# bmass = 62250
# nacmass = 530888
# hcent = 11.075
# nacxcm = 4.688
# nrel_mass = hubmass + nacmass + 3*bmass
# nrel_mom = (hcent * (hubmass + 3*bmass) + nacmass*nacxcm) / 1e3  # kNm

# print(f'H2 mass:           {h2_mass:.0f} kg')
# print(f'OF mass:           {nrel_mass:.0f} kg')
# print()
# print(f'H2 yaw pitch mmnt: {h2_mom:.0f} kNm')
# print(f'OF yaw pitch mmnt: {nrel_mom:.0f} kNm')

# perc_diff = (h2_mom - nrel_mom) / nrel_mom * 100
# print(f'H2 is higher than OF by {(h2_mom-nrel_mom):.0f} kNm ({perc_diff:.0f}%)')

of_twist = np.array([ [0.000000000000000e+00,   1.559455301971172e+01 ],
 [2.340000000000000e+00,   1.559105026258913e+01 ],
 [4.680000000000000e+00,   1.542808288705693e+01 ],
 [7.020000000000000e+00,   1.498668187913840e+01 ],
 [9.359999999999999e+00,   1.432158034416253e+01 ],
 [1.170000000000000e+01,   1.348751138745829e+01 ],
 [1.462500000000000e+01,   1.229069721992214e+01 ],
 [1.755000000000000e+01,   1.102229252935764e+01 ],
 [1.977698541208247e+01,   1.007455100521850e+01 ],
 [2.200397082416493e+01,   9.194457415112664e+00 ],
 [2.423095623624740e+01,   8.429191400183106e+00 ],
 [2.645794164832986e+01,   7.777140178454876e+00 ],
 [2.868492706041233e+01,   7.182453068336759e+00 ],
 [3.113238085174112e+01,   6.526991264456793e+00 ],
 [3.357983464306991e+01,   5.894967665228040e+00 ],
 [3.602728843439870e+01,   5.294241247126913e+00 ],
 [3.847474222572749e+01,   4.734510589122642e+00 ],
 [4.105659048741643e+01,   4.200509221861605e+00 ],
 [4.363843874910536e+01,   3.725899877374307e+00 ],
 [4.622028701079431e+01,   3.306980159403296e+00 ],
 [4.880213527248324e+01,   2.919972991579771e+00 ],
 [5.138398353417219e+01,   2.561013760569935e+00 ],
 [5.368869775367514e+01,   2.261976958738843e+00 ],
 [5.599341197317808e+01,   1.980308613217369e+00 ],
 [5.829812619268102e+01,   1.713584420221966e+00 ],
 [6.060284041218397e+01,   1.457959216148460e+00 ],
 [6.290755463168692e+01,   1.215627353698105e+00 ],
 [6.526010287719268e+01,   9.878931973599971e-01 ],
 [6.761265112269844e+01,   7.751486517583764e-01 ],
 [6.996519936820421e+01,   5.753772042113692e-01 ],
 [7.231774761370995e+01,   3.801903461857860e-01 ],
 [7.467029585921573e+01,   1.859865520515259e-01 ],
 [7.690225798158134e+01,  -1.895066028803559e-03 ],
 [7.913422010394696e+01,  -2.032949456984741e-01 ],
 [8.136618222631259e+01,  -4.252875829492346e-01 ],
 [8.359814434867820e+01,  -6.835362560574688e-01 ],
 [8.583010647104382e+01,  -9.818668004993735e-01 ],
 [8.806206859340944e+01,  -1.283187977449598e+00 ],
 [9.029403071577507e+01,  -1.575204470207721e+00 ],
 [9.360000000000001e+01,  -1.936867726960525e+00 ],
 [9.579375000000002e+01,  -2.107559875105575e+00 ],
 [9.798750000000000e+01,  -2.166589245326676e+00 ],
 [1.001812500000000e+02,  -2.176064619564126e+00 ],
 [1.023750000000000e+02,  -2.161185304881369e+00 ],
 [1.045687500000000e+02,  -2.118517957471362e+00 ],
 [1.067625000000000e+02,  -2.048882314259705e+00 ],
 [1.089562500000000e+02,  -1.951426912022273e+00 ],
 [1.111500000000000e+02,  -1.815172386244977e+00 ],
 [1.140750000000000e+02,  -1.567929958032109e+00 ],
 [1.170000000000000e+02,  -1.242387706272969e+00 ]])

h2_twst = np.array([ [  6.201182297139584 , -15.1756334169214   ],
    [  13.07124721605084 , -12.9538089600336   ],
    [  20.55236308990396 , -9.768502125620273  ],
    [  28.54529515461813 , -7.218598749599913  ],
    [  36.9061003628696  ,  -5.08888509490481  ],
    [  45.46140184592034 , -3.424371460144447  ],
    [   54.02214442561254, -2.220313133432046  ],
    [   62.39937510471066, -1.268966518616668  ],
    [  70.41842166402073 , -0.5370306489608649 ],
    [ 77.93519479032008  ,  0.0935317203981675 ],
    [   84.84691997117963,  0.8493766337535498 ],
    [   91.08729127572076,  1.672206858318514  ],
    [  96.6314156565078  ,  2.143433636129829  ],
    [   101.4866648892364, 2.17178028233836    ],
    [   105.6843042126973, 2.088794131302387   ],
    [   109.2738898405172, 1.934836373952981   ],
    [   112.3151327495461, 1.723367849618178   ],
    [   114.8691506459029, 1.487742695689245   ],
    [   117              , 1.242387706272969   ]])

plt.figure()
plt.plot(of_twist[:,0], of_twist[:,1])
plt.plot(h2_twst[:,0], -h2_twst[:,1])